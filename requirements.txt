# ============================================================================
# BINDRAE - Stage-1 IPA Implementation Requirements
# ============================================================================
# 
# 项目: 基于 FlashIPA 的蛋白质构象生成模型
# 环境: Linux + CUDA 11.8+ (训练), Mac (开发)
# Python: >=3.9
# 
# 安装顺序:
# 1. conda create -n drug python=3.10
# 2. conda activate drug
# 3. conda install pytorch torchvision torchaudio pytorch-cuda=11.8 -c pytorch -c nvidia
# 4. conda install -c conda-forge rdkit
# 5. pip install -r requirements.txt
# 6. pip install flash-attn --no-build-isolation  # Linux only
# 7. pip install git+https://github.com/flagshippioneering/flash_ipa.git
# 
# ============================================================================

# ----------------------------------------------------------------------------
# 核心深度学习框架
# ----------------------------------------------------------------------------
torch>=2.0.0
torchvision>=0.15.0
torchaudio>=2.0.0
pytorch-lightning==2.2.5
lightning==2.2.5
torchmetrics>=1.0.0

# ----------------------------------------------------------------------------
# 蛋白质语言模型 (ESM-2)
# ----------------------------------------------------------------------------
transformers>=4.30.0
tokenizers>=0.13.0
huggingface-hub>=0.16.0
safetensors>=0.3.0

# ----------------------------------------------------------------------------
# 生物信息学工具
# ----------------------------------------------------------------------------
biopython>=1.80
# rdkit>=2023.3.1  # 建议用 conda 安装: conda install -c conda-forge rdkit
biotite>=0.40.0

# ----------------------------------------------------------------------------
# 科学计算
# ----------------------------------------------------------------------------
numpy>=1.24.0,<2.0.0
scipy>=1.10.0
pandas>=2.0.0
scikit-learn>=1.3.0

# ----------------------------------------------------------------------------
# 图神经网络 (可选，用于 GVP)
# ----------------------------------------------------------------------------
# torch-geometric>=2.3.0

# ----------------------------------------------------------------------------
# 数据处理与加载
# ----------------------------------------------------------------------------
datasets>=2.14.0
pyarrow>=12.0.0
dill>=0.3.6

# ----------------------------------------------------------------------------
# 可视化
# ----------------------------------------------------------------------------
matplotlib>=3.7.0
seaborn>=0.12.0

# ----------------------------------------------------------------------------
# 实验管理与日志
# ----------------------------------------------------------------------------
wandb>=0.15.0
tensorboard>=2.13.0
tqdm>=4.65.0

# ----------------------------------------------------------------------------
# 配置管理
# ----------------------------------------------------------------------------
pyyaml>=6.0
omegaconf>=2.3.0

# ----------------------------------------------------------------------------
# 工具库
# ----------------------------------------------------------------------------
click>=8.1.0
joblib>=1.3.0
einops>=0.7.0

# ----------------------------------------------------------------------------
# 加速与优化
# ----------------------------------------------------------------------------
accelerate>=0.20.0

# ============================================================================
# 特殊安装说明
# ============================================================================
# 
# 1. RDKit 推荐用 conda 安装（避免依赖问题）:
#    conda install -c conda-forge rdkit
# 
# 2. FlashAttention (仅 Linux + CUDA):
#    pip install flash-attn --no-build-isolation
# 
# 3. FlashIPA:
#    pip install git+https://github.com/flagshippioneering/flash_ipa.git
# 
# 4. OpenFold (可选，用于 Rigid Utils):
#    pip install git+https://github.com/aqlaboratory/openfold.git
# 
# ============================================================================
# 验证安装
# ============================================================================
# 
# python -c "import torch; print(f'PyTorch: {torch.__version__}')"
# python -c "import torch; print(f'CUDA available: {torch.cuda.is_available()}')"
# python -c "from rdkit import Chem; print('RDKit: OK')"
# python -c "from Bio import PDB; print('BioPython: OK')"
# python -c "import transformers; print('Transformers: OK')"
# 
# ============================================================================
